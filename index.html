<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" href="open.css">
    <script src="Scripts/angular.js"></script>
    <script src="Scripts/angular-ui-router.min.js"></script>
    <script src="open.app.js"></script>
    <script src="open.factory.js"></script>
    <title>Elavus CrossFit Open</title>
</head>
<body ng-app="openApp" ng-controller="openController as vm">

    <!-- Desktop -->
    <div ng-hide="vm.IsMobile" class="table">
        <div class="headerRow">
            <div class="headerCellLeft">
                <img class="headerCellLeft" src="http://assets.crossfit.com/build/img/sites/games/logos/2021.svg" />
                <span class="tooltiptext">
                    How to Get Points<hr />
                    <label ng-repeat="accomplishment in vm.Sheet.Accomplishments">{{accomplishment.gsx$comments.$t}} - {{accomplishment.gsx$points.$t}} pts<br /></label>
                </span>
            </div>
            <div class="headerCellCenter">2021 Elavus CrossFit Open</div>
            <div class="headerCellRight">
                <img class="headerCellRight" src="Images/Elavus.png" />
            </div>
        </div>
    </div>

    <div ng-hide="vm.IsMobile" class="table">
        <div class="teamsRow">
            <div ng-repeat="team in vm.Teams" class="teamsCell">
                <div class="teamCell" style="background-color:{{team.BackColor}};color:{{team.ForeColor}};">
                    <!--                    <img class="teamHeader" ng-src="Images/{{team.Logo}}" />  -->
                    <div class="table">
                        <div class="teamRow">
                            <div class="teamCellLeft">
                                <label class="team" ng-show="team.Initialized">{{team.Icon}}</label>
                            </div>
                            <div class="teamCellCenter">
                                <label class="team">{{team.Name}}</label>
                            </div>
                            <div class="teamCellRight">
                                <label class="team" ng-show="team.Initialized">{{team.FormattedScore}}</label>
                            </div>
                        </div>
                    </div>

                    <hr />

                    <div class="table">
                        <div class="basicRow" ng-repeat="athletePair in team.AthletePairs">
                            <div class="basicCell" ng-repeat="athlete in athletePair.Athlete">
                                <div class="basicCellLeft" ng-hide="athlete.Initialized"></div>
                                <div class="basicCellCenter" ng-hide="athlete.Initialized">
                                    <label class="team">{{athlete.Athlete}}</label>
                                </div>

                                <div class="basicCellLeftCenter" ng-show="athlete.Initialized">
                                    <label class="team">{{athlete.Icon}} </label>
                                    <label class="team">{{athlete.Athlete}}</label>
                                    <span class="tooltiptext">
                                        Athlete: {{athlete.Athlete}} - {{athlete.Score}} pts<hr />
                                        <label ng-repeat="score in athlete.Scores">Week {{score.Week}}: {{score.Accomplishment}} - {{score.Score}} pts<br /></label>
                                    </span>
                                </div>
                                <div class="basicCellRight">
                                    <label class="team" ng-show="athlete.Initialized">{{athlete.Score}}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile -->
    <div ng-show="vm.IsMobile" class="table">
        <div class="headerRowMobile">
            <div class="headerCellMobile">
                <img class="headerMobile" src="http://assets.crossfit.com/build/img/sites/games/logos/2021.svg" />
            </div> 
        </div>

        <div class="headerRowMobile">
            <div class="headerCellMobile">2021 Elavus CrossFit Open</div>
        </div>
    </div>
    <div ng-show="vm.IsMobile" class="table">
        <div ng-repeat="team in vm.Teams" class="teamsRowMobile">
            <div class="teamsCellMobile">
                <div class="teamCellMobile" style="background-color:{{team.BackColor}};color:{{team.ForeColor}};">
                    <div class="table">
                        <div class="headerRowMobile">
                            <div class="headerCellMobile">
                                <label class="team" ng-show="team.Initialized">{{team.Icon}} {{team.Place}} Place</label>
                            </div>
                        </div>
                    </div>
                    <!--                    <img class="teamHeader" ng-src="Images/{{team.Logo}}" /> -->

                    <div class="table">
                        <div class="basicRow">
                            <div class="basicCellLeftCenterMobile">
                                <label class="team">{{team.Name}}</label>
                            </div>
                            <div class="basicCellRightMobile">
                                <label class="team" ng-show="team.Initialized">{{team.FormattedScore}}</label>
                            </div>
                        </div>
                    </div>

                    <hr />

                    <div class="table">
                        <div ng-repeat="athlete in team.Athletes">
                            <div class="basicRow">
                                <div class="basicCellLeftMobile" ng-hide="athlete.Initialized"></div>
                                <div class="basicCellCenterMobile" ng-hide="athlete.Initialized">
                                    <label class="team">{{athlete.Athlete}}</label>
                                </div>

                                <div class="basicCellLeftCenterMobile" ng-show="athlete.Initialized">
                                    <label class="team">{{athlete.Icon}} </label>
                                    <label class="team">{{athlete.Athlete}}</label>
                                </div>
                                <div class="basicCellRightMobile">
                                    <label class="team" ng-show="athlete.Initialized">{{athlete.Score}}</label>
                                </div>
                            </div>
                            <div class="basicRow" ng-repeat="score in athlete.Scores">
                                <div class="athleteDetail">Week {{score.Week}}: {{score.Accomplishment}} - {{score.Score}} pts</div>
                            </div>
                            <br />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <hr />
</body>

</html>
